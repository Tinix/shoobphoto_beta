<table class="table table students">
	<thead>
		<th style="padding-right:0px" style="padding-left:0px">
		</th>
		<th style="padding-right:0px" style="padding-left:0px">
			Student ID
		</th>
		<th style="padding-right:0px" style="padding-left:0px">
			Name
		</th>
		<th style="padding-right:0px" style="padding-left:0px">
			Teacher
		</th>
		<th style="padding-right:0px" style="padding-left:0px">
			Grade
		</th>

		<th id="button" style="padding-right:0px" style="padding-left:0px">
			Edit
		</th>
		<th id="button" style="padding-right:0px"  style="padding-left:0px">
			YB
		</th>
		<th id="button" style="padding-right:0px" style="padding-left:0px">
			Download
		</th>
		<th id="button" style="padding-right:0px" style="padding-left:0px"> 
			Print
		</th>

		<th> 
			<div id="select_all" class="row">
			<div class="col-sm-5">
			<% if (@students.pluck(:id) - current_user.students.pluck(:id)).empty? %>
				<%= link_to export_deselect_all_path(:students => @students.pluck(:id)), remote: true do %>
					    <span class="glyphicon glyphicon-check"></span>
				<% end %>
			</div>
			<div class="col-sm-7">
				Deselect All
			</div>
			<% else %>
				<%= link_to export_select_all_path(:students => @students.pluck(:id)), remote: true do %>
					    <span class="glyphicon glyphicon-unchecked"></span>
				<% end %>
			</div>
			<div class="col-sm-7">
			Select All
			</div>
			<% end %>
		</div>
	</div>
			</div>
		</th>
	</thead>
	<tbody>
		
	<tr id="newstudentlist"></tr>

<% @students.order(:last_name).each do |student| %>

<%= render 'student_list', :student => student %>

<% end %>

</tbody>

</table>

<%= will_paginate @students %>


<script>
$('[data-toggle="popover"]').popover();

$('body').on('click', function (e) {
    $('[data-toggle="popover"]').each(function () {
        //the 'is' for buttons that trigger popups
        //the 'has' for icons within a button that triggers a popup
        if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
            $(this).popover('hide');
        }
    });
});


$(".btn-submit").on("click", function() {

  $('#myModal').modal('show');
  $("#myModal").html("<%= escape_javascript(render partial: 'loading_submit') %>"); 
});
</script>